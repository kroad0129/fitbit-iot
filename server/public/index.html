<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>ì˜¨ìŠµë„ ëª¨ë‹ˆí„°ë§</title>
</head>

<body>
    <h2>í˜„ì¬ ì„¼ì„œ ìƒíƒœ</h2>
    <p>ğŸŒ¡ï¸ ì˜¨ë„: <span id="temp">-</span> â„ƒ</p>
    <p>ğŸ’§ ìŠµë„: <span id="humi">-</span> %</p>
    <p>â±ï¸ ì—…ë°ì´íŠ¸ ì‹œê°„: <span id="time">-</span></p>
    <hr />
    <p>ğŸŒ€ ì—ì–´ì»¨ ìƒíƒœ: <span id="aircon">-</span></p>
    <p>ğŸŒªï¸ í™˜í’ê¸° ìƒíƒœ: <span id="fan">-</span></p>

    <script>
        async function fetchSensorData() {
            try {
                const res = await fetch('/api/sensor');
                const data = await res.json();
                document.getElementById('temp').innerText = data.temperature ?? '-';
                document.getElementById('humi').innerText = data.humidity ?? '-';
                document.getElementById('time').innerText = data.time ?? '-';
                document.getElementById('aircon').innerText = data.aircon ?? '-';
                document.getElementById('fan').innerText = data.fan ?? '-';
            } catch (e) {
                console.error("ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨", e);
            }
        }

        setInterval(fetchSensorData, 2000);
    </script>
</body>

</html>